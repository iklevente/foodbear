<div class="row justify-content-center mt-4">
  <div class="col-md-5">
    <div class="card shadow-sm">
      <div class="card-header bg-primary text-white">
        <h5 class="mb-0 text-center">Rendelések szűrése dátum alapján</h5>
      </div>
      <div class="card-body">
        <form [formGroup]="dateForm" (ngSubmit)="getOrders()">
          <div class="mb-3">
            <label class="form-label fw-bold">Dátum kiválasztása</label>
            <input
              type="date"
              class="form-control"
              formControlName="date"
              [ngClass]="{
                'is-invalid':
                  dateForm.invalid &&
                  dateForm.dirty &&
                  dateForm.controls['date'].errors
              }"
            />
            <div class="invalid-feedback">A dátum nem érvényes</div>
          </div>
          <button
            type="submit"
            class="btn btn-outline-primary w-100"
            [disabled]="dateForm.invalid"
          >
            <i class="bi bi-search"></i> Rendelések keresése
          </button>
        </form>
      </div>
    </div>
  </div>
</div>

<div *ngIf="orders" class="mt-5">
  <div class="card border-0 shadow-sm mb-4">
    <div
      class="card-header bg-success text-white d-flex justify-content-between align-items-center"
    >
      <h5 class="mb-0">Rendelés összesítés</h5>
      <i class="bi bi-box-seam fs-4"></i>
    </div>
    <div class="card-body">
      <p class="mb-2"><strong>Összes rendelés:</strong> {{ orders.length }}</p>
      <p><strong>Összes bevétel:</strong> ${{ getFullPrice() }}</p>
    </div>
  </div>

  <app-order-table [orders]="orders"></app-order-table>
</div>
